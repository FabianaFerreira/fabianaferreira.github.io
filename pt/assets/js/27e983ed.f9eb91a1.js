"use strict";(self.webpackChunkfabianafonseca=self.webpackChunkfabianafonseca||[]).push([[114],{3905:(e,t,a)=>{a.d(t,{Zo:()=>u,kt:()=>d});var n=a(7294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function s(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?s(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function l(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},s=Object.keys(e);for(n=0;n<s.length;n++)a=s[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)a=s[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var i=n.createContext({}),c=function(e){var t=n.useContext(i),a=t;return e&&(a="function"==typeof e?e(t):o(o({},t),e)),a},u=function(e){var t=c(e.components);return n.createElement(i.Provider,{value:t},e.children)},h={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},b=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,s=e.originalType,i=e.parentName,u=l(e,["components","mdxType","originalType","parentName"]),b=c(a),d=r,p=b["".concat(i,".").concat(d)]||b[d]||h[d]||s;return a?n.createElement(p,o(o({ref:t},u),{},{components:a})):n.createElement(p,o({ref:t},u))}));function d(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var s=a.length,o=new Array(s);o[0]=b;var l={};for(var i in t)hasOwnProperty.call(t,i)&&(l[i]=t[i]);l.originalType=e,l.mdxType="string"==typeof e?e:r,o[1]=l;for(var c=2;c<s;c++)o[c]=a[c];return n.createElement.apply(null,o)}return n.createElement.apply(null,a)}b.displayName="MDXCreateElement"},5566:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>i,contentTitle:()=>o,default:()=>h,frontMatter:()=>s,metadata:()=>l,toc:()=>c});var n=a(7462),r=(a(7294),a(3905));const s={slug:"k8s-labels-and-selectors",title:"Kubernetes Labels and Selectors",author:"Fabiana Fonseca",author_title:"Software Engineer @ VTEX",author_url:"https://github.com/fabianaferreira",author_image_url:"https://avatars.githubusercontent.com/u/19495917?s=400&u=302696fe63b0bceec347a6b90dd42bddcea1cf43&v=4",tags:["k8s"]},o=void 0,l={unversionedId:"technical/2021-06-18-k8s-labels-and-selectors",id:"technical/2021-06-18-k8s-labels-and-selectors",title:"Kubernetes Labels and Selectors",description:"Kubernetes uses labels and selectors to get all the different APIs in a single abstraction. For instance, how does a deployment know that a pod belongs to him? Because there is a label saying so.",source:"@site/docs/technical/2021-06-18-k8s-labels-and-selectors.md",sourceDirName:"technical",slug:"/technical/k8s-labels-and-selectors",permalink:"/pt/docs/technical/k8s-labels-and-selectors",draft:!1,editUrl:"https://github.com/facebook/docusaurus/edit/master/website/docs/technical/2021-06-18-k8s-labels-and-selectors.md",tags:[{label:"k8s",permalink:"/pt/docs/tags/k-8-s"}],version:"current",frontMatter:{slug:"k8s-labels-and-selectors",title:"Kubernetes Labels and Selectors",author:"Fabiana Fonseca",author_title:"Software Engineer @ VTEX",author_url:"https://github.com/fabianaferreira",author_image_url:"https://avatars.githubusercontent.com/u/19495917?s=400&u=302696fe63b0bceec347a6b90dd42bddcea1cf43&v=4",tags:["k8s"]},sidebar:"tutorialSidebar",previous:{title:"Kubernetes 101",permalink:"/pt/docs/technical/k8s-101"},next:{title:"Kubernetes Networking",permalink:"/pt/docs/technical/k8s-network"}},i={},c=[],u={toc:c};function h(e){let{components:t,...a}=e;return(0,r.kt)("wrapper",(0,n.Z)({},u,a,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"Kubernetes uses labels and selectors to get all the different APIs in a single abstraction. For instance, how does a deployment know that a pod belongs to him? Because there is a label saying so. "),(0,r.kt)("p",null,"Imagine that I start a pod, and it has a label to identify it. Now, let\u2019s say that I want to scale it, so I create a replica set with the same label to have three replicas. What is going to happen now? It will provide only two replicas because there is already a pod with the same label as the one we\u2019ve defined in the replica set. Here the name has not that much use; it\u2019s useful for users to identify them."),(0,r.kt)("p",null,"Services also use labels and, by endpoint controllers, divide the requests equally, routing client traffic among the pods - it works like a load balancer. For instance, imagine that I changed the version in a replica set, but keeping the labels, the traffic will be divided among all the pods, from the two versions of replica sets, working like an A/B test."),(0,r.kt)("p",null,"Deployments have a label controller and use it to control the resources. The label controller creates a hash (?), which means that, in theory, you won\u2019t have label conflicts. If you have any pod in the node with the same label that you define, it won\u2019t be used because the controller label creates a hash and uses it as a label."))}h.isMDXComponent=!0}}]);